{"version":3,"sources":["redux/types.js","redux/rootReducer.js","redux/actions.js","components/Users/Users.jsx","components/Pagination/Pagination.jsx","api/users.js","components/SelectedUser/SelectedUser.jsx","components/Modal/Modal.jsx","components/CreateUser/CreateUser.jsx","App.jsx","index.js"],"names":["SET_USERS","SET_SELECTED_USER","SET_UPDATE_USERS","initialState","users","currentUser","actionUpDateUsers","newUsers","type","payload","Users","handleSelectedUser","className","map","user","onClick","name","id","Pagination","countPages","paginate","currentPage","pageNumbers","i","push","number","classNames","active","href","BASE_URL","getUsers","a","axios","get","response","data","deleteUser","userId","delete","createdUser","post","editCurrentUser","put","SelectedUser","setModalActive","upDateUsers","surname","desc","useState","currentName","setCurrentName","currentSurname","setCurrentSurname","currentDesc","setCurrentDesc","e","preventDefault","useEffect","value","onChange","target","required","handleDeleteUser","handleCancalButton","handleSaveButton","Modal","setActive","children","stopPropagation","CreateUser","setName","setSurname","setDesc","avatar","onSubmit","handleSubmit","placeholder","App","setCurrentPage","modalActive","dispatch","useDispatch","useSelector","state","then","actionSetUsers","Math","ceil","length","indexOfLastUser","indexOfFirstUser","currentUsers","slice","numberPage","store","createStore","action","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.610bc725.chunk.js","sourcesContent":["export const SET_USERS = \"GET_USERS\";\nexport const SET_SELECTED_USER = \"SET_SELECTED_USER\";\nexport const SET_UPDATE_USERS = \"SET_UPDATE_USERS\";","import {\n  SET_USERS,\n  SET_SELECTED_USER,\n  SET_UPDATE_USERS\n} from \"./types\";\n\nconst initialState = {\n  users: [],\n  currentUser: {},\n}\n\nexport const rootReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_USERS:\n      return {\n        ...state,\n        users: action.payload,\n      }\n    case SET_SELECTED_USER:\n      return {\n        ...state,\n        currentUser: action.payload,\n      }\n\n    case SET_UPDATE_USERS:\n      return {\n        ...state,\n        users: action.payload,\n      }\n    default: return state;\n  }\n}\n","import { SET_USERS, SET_SELECTED_USER, SET_UPDATE_USERS } from \"./types\";\n\nexport function actionSetUsers(users) {\n  return {\n    type: SET_USERS,\n    payload: users,\n  }\n}\n\nexport function actionSetSelectedUser(user) {\n  return {\n    type: SET_SELECTED_USER,\n    payload: user,\n  }\n}\n\nexport function actionUpDateUsers(newUsers) {\n  return {\n    type: SET_UPDATE_USERS,\n    payload: newUsers,\n  }\n}\n","import  React from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport './Users.css';\n\nexport function Users({ users, handleSelectedUser }) {\n  return (\n    <ul className=\"users\">\n      { users.map(user => (\n        <li className=\"user\" onClick={() => handleSelectedUser(user)} key={user.id}>\n          {user.name}\n        </li>\n      ))}\n    </ul>\n  );\n}\n\nUsers.propTypes = {\n  handleSelectedUser: PropTypes.func.isRequired,\n  users: PropTypes.arrayOf(PropTypes.shape({\n    name: PropTypes.string.isRequired,\n    id: PropTypes.number.isRequired,\n  })).isRequired,\n}\n","import React from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport classNames from 'classnames';\n\nimport './Pagination.css';\n\nexport function Pagination({ countPages, paginate, currentPage }) {\n  const pageNumbers = [];\n\n  for (let i = 1; i <= countPages; i++) {\n    pageNumbers.push(i);\n  }\n\n  return (\n    <ul className=\"pagination\">\n      { pageNumbers.map(number =>  (\n        <>\n          <li className={classNames(\"waves-effect\", {active: currentPage === number})} key={number} >\n            <a onClick={() => paginate(number)}  href=\"#\">{number}</a>\n          </li>\n        </>\n      ))}\n  </ul>\n  );\n}\n\nPagination.propTypes = {\n  countPages: PropTypes.number.isRequired,\n  paginate: PropTypes.func.isRequired,\n  currentPage: PropTypes.number.isRequired,\n}\n","import axios from 'axios';\n\nconst BASE_URL = \"https://77.120.241.80:8811/api\";\n\nexport async function getUsers() {\n  const response = await axios.get(`${BASE_URL}/users`);\n  const users = await response.data;\n\n  return users;\n}\n\nexport async function deleteUser(userId) {\n  return axios.delete(`${BASE_URL}/user/${userId}`);\n}\n\nexport async function createdUser(user) {\n  return axios.post(`${BASE_URL}/users`, user);\n}\n\nexport async function editCurrentUser(userId, user) {\n  return axios.put(`${BASE_URL}/user/${userId}`, user);\n}\n","import React, { useEffect, useState } from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport { deleteUser, editCurrentUser } from '../../api/users';\n\nimport './SelectedUser.css';\n\nexport function SelectedUser({ setModalActive, currentUser, upDateUsers}) {\n  const { name, surname, desc, id } = currentUser;\n  const [currentName, setCurrentName] = useState(name);\n  const [currentSurname, setCurrentSurname] = useState(surname);\n  const [currentDesc, setCurrentDesc] = useState(desc);\n\n  async function handleSaveButton(e) {\n    e.preventDefault();\n\n    const user = {\n      name: currentName,\n      surname: currentSurname,\n      desc: currentDesc,\n    }\n\n    await editCurrentUser(id, user);\n    upDateUsers();\n    setModalActive(false);\n  }\n\n  function handleCancalButton(e) {\n    e.preventDefault();\n    setCurrentName(name);\n    setCurrentSurname(surname);\n    setCurrentDesc(desc);\n    setModalActive(false);\n  }\n\n  async function handleDeleteUser(e) {\n    e.preventDefault();\n    await deleteUser(id);\n    upDateUsers();\n    setModalActive(false);\n  }\n\n  useEffect(() => {\n    setCurrentName(name);\n    setCurrentSurname(surname);\n    setCurrentDesc(desc);\n  }, [currentUser]);\n\n  return (\n    <div className=\"info\">\n\n      <div className=\"info__user-content\">\n        <div className=\"info__user-fullname\">\n          <div className=\"info__user-name\">\n            <input  \n              type=\"text\"\n              value={currentName}\n              onChange={({ target }) =>  setCurrentName(target.value)}\n              required\n            />\n          </div>\n\n          <div className=\"info__user-surname\">\n            <input\n              type=\"text\"\n              value={currentSurname}\n              onChange={({target}) => setCurrentSurname(target.value)}\n              required\n            />\n          </div>\n        </div>\n\n        <div className=\"info__user-description\">\n          <textarea\n            className=\"info__user-text\"\n            type=\"textarea\"\n            name=\"info\"\n            value={currentDesc}\n            onChange={({ target }) => setCurrentDesc(target.value)}\n            required\n          ></textarea>\n        </div>\n      </div>\n\n      <div className=\"info__user-buttons\">\n        <div>\n          <button className=\"info__user-delete\" onClick={(e) => handleDeleteUser(e)}>Delete user</button>          \n        </div>\n  \n        <div>\n          <button className=\"info__user-cancel\" onClick={(e) => handleCancalButton(e)}>Cancel</button>\n          <button className=\"info__user-save\" onClick={(e) => handleSaveButton(e)}>Save</button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nSelectedUser.propTypes = {\n  setModalActive: PropTypes.func.isRequired,\n  currentUser: PropTypes.object.isRequired,\n  upDateUsers: PropTypes.func.isRequired,\n}\n","import React from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport './Modal.css';\n\nexport function Modal({ active, setActive, children}) {\n  return (\n    <div className={active ? 'modal active' : 'modal'} onClick={() => setActive(false)} >\n      <div className={active ? 'modal__content active' : 'modal'} onClick={(e) => e.stopPropagation()} >\n        {children}\n      </div>\n    </div>    \n  );\n}\n\nModal.propTypes = {\n  active: PropTypes.bool.isRequired,\n  setActive: PropTypes.func.isRequired,\n}\n","import React, { useState } from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport { createdUser } from '../../api/users';\n\nimport './CreateUser.css';\n\nexport function CreateUser({ upDateUsers }) {\n  const [name, setName] = useState('');\n  const [surname, setSurname] = useState('');\n  const [desc, setDesc] = useState('');\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n\n    const user = {\n      name,\n      surname,\n      desc,\n      avatar: null,\n    }\n\n    if (name && surname && desc) {\n       await createdUser(user);\n       upDateUsers();\n    }\n\n    setName('');\n    setSurname('');\n    setDesc('');\n  }\n\n  return (\n    <div className=\"newUsers\">\n      <h5>Create a new user: </h5>\n      <form onSubmit={(e) => handleSubmit(e)}>\n        <input\n          type=\"text\"\n          name=\"name\"\n          value={name}\n          onChange={({ target }) => setName(target.value)}\n          placeholder=\"New Name\"\n          required\n        />\n        <input\n          type=\"text\" \n          name=\"surname\" \n          value={surname} \n          onChange={({ target }) =>  setSurname(target.value)} \n          placeholder=\"New Surname\"\n          required\n        />\n        <textarea\n          className=\"info__user-text newUser__about\"\n          type=\"textarea\"\n          name=\"info\"\n          value={desc}\n          onChange={({ target }) => setDesc(target.value)}\n          placeholder=\"About You\"\n          required\n        ></textarea>\n        <button className=\"waves-effect waves-light btn newUser__button\" type=\"submit\">Add</button>\n      </form>\n    </div>\n  );\n}\n\nCreateUser.propTypes = {\n  upDateUsers: PropTypes.func.isRequired,\n}\n","import React, { useEffect, useState } from 'react';\n\nimport { useDispatch, useSelector } from 'react-redux';\nimport { actionSetUsers, actionSetSelectedUser, actionUpDateUsers } from './redux/actions';\n\nimport { Users } from './components/Users/Users';\nimport { Pagination } from './components/Pagination/Pagination';\nimport { SelectedUser } from './components/SelectedUser/SelectedUser';\nimport { Modal } from './components/Modal/Modal';\nimport { CreateUser } from './components/CreateUser/CreateUser';\n\nimport { getUsers } from './api/users';\n\nimport './App.css';\n\nfunction App() {\n  const [currentPage, setCurrentPage] = useState(1);\n  const [modalActive, setModalActive] = useState(false);\n\n  const dispatch = useDispatch();\n  const users = useSelector(state => state.users);\n  const currentUser = useSelector(state => state.currentUser);\n\n  useEffect(() => {\n    getUsers().then(users => {\n      dispatch(actionSetUsers(users))\n    });\n  }, []);\n\n  async function upDateUsers() {\n    const users = await getUsers();\n\n    dispatch(actionUpDateUsers(users));\n  }\n\n  function paginate(numberPage) {\n    setCurrentPage(numberPage);\n  }\n\n  function handleSelectedUser(currentUser) {\n    dispatch(actionSetSelectedUser(currentUser));\n    setModalActive(true);\n  }\n\n  const usersPerPage = 5;\n  const countPages = Math.ceil(users.length / usersPerPage);\n  const indexOfLastUser = currentPage * usersPerPage;\n  const indexOfFirstUser = indexOfLastUser - usersPerPage;\n  const currentUsers = users.slice(indexOfFirstUser, indexOfLastUser);\n\n  return (\n    <div className=\"container\">\n      <Users users={currentUsers} handleSelectedUser={handleSelectedUser} />\n\n      <Modal active={modalActive} setActive={setModalActive}>\n        <SelectedUser setModalActive={setModalActive} currentUser={currentUser} upDateUsers={upDateUsers} />\n      </Modal>\n\n      <CreateUser upDateUsers={upDateUsers}/>\n\n      <Pagination countPages={countPages} paginate={paginate} currentPage={currentPage} />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { createStore } from 'redux';\nimport { Provider } from 'react-redux';\nimport { rootReducer } from './redux/rootReducer';\n\nimport App from './App';\n\nconst store = createStore(rootReducer);\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}