(this["webpackJsonppagination-users"]=this["webpackJsonppagination-users"]||[]).push([[0],{37:function(e,t,n){},38:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(0),c=n(9),s=n.n(c),u=n(10),i=n(7),o=n(6),l="GET_USERS",f="SET_SELECTED_USER",p="SET_UPDATE_USERS",j={users:[],currentUser:{}},b=n(2),d=n.n(b),h=n(4),v=n(5);function O(e){return{type:p,payload:e}}n(37);function x(e){var t=e.users,n=e.handleSelectedUser;return Object(r.jsx)("ul",{className:"users",children:t.map((function(e){return Object(r.jsx)("li",{className:"user",onClick:function(){return n(e)},children:e.name},e.id)}))})}var m=n(24),y=n.n(m);n(38);function _(e){for(var t=e.countPages,n=e.paginate,a=e.currentPage,c=[],s=1;s<=t;s++)c.push(s);return Object(r.jsx)("ul",{className:"pagination",children:c.map((function(e){return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("li",{className:y()("waves-effect",{active:a===e}),children:Object(r.jsx)("a",{onClick:function(){return n(e)},href:"#",children:e})},e)})}))})}var g=n(8),w=n.n(g),N="https://cors-anywhere.herokuapp.com/http://77.120.241.80:8811/api";function k(){return S.apply(this,arguments)}function S(){return(S=Object(h.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("".concat(N,"/users"));case 2:return t=e.sent,e.next=5,t.data;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e){return C.apply(this,arguments)}function C(){return(C=Object(h.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",w.a.delete("".concat(N,"/user/").concat(t)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){return D.apply(this,arguments)}function D(){return(D=Object(h.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",w.a.post("".concat(N,"/users"),t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e,t){return q.apply(this,arguments)}function q(){return(q=Object(h.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",w.a.put("".concat(N,"/user/").concat(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(56);function P(e){var t=e.setModalActive,n=e.currentUser,c=e.upDateUsers,s=e.checkLastUser,u=n.name,i=n.surname,o=n.desc,l=n.id,f=Object(a.useState)(u),p=Object(v.a)(f,2),j=p[0],b=p[1],O=Object(a.useState)(i),x=Object(v.a)(O,2),m=x[0],y=x[1],_=Object(a.useState)(o),g=Object(v.a)(_,2),w=g[0],N=g[1];function k(){return(k=Object(h.a)(d.a.mark((function e(n){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r={name:j,surname:m,desc:w},e.next=4,A(l,r);case 4:c(),t(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){return(S=Object(h.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!confirm("Are you sure you want to delete the user?")){e.next=8;break}return e.next=5,U(l);case 5:s(),c(),t(!1);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){b(u),y(i),N(o)}),[n]),Object(r.jsxs)("div",{className:"info",children:[Object(r.jsxs)("div",{className:"info__user-content",children:[Object(r.jsxs)("div",{className:"info__user-fullname",children:[Object(r.jsx)("div",{className:"info__user-name",children:Object(r.jsx)("input",{type:"text",value:j,onChange:function(e){var t=e.target;return b(t.value)},required:!0})}),Object(r.jsx)("div",{className:"info__user-surname",children:Object(r.jsx)("input",{type:"text",value:m,onChange:function(e){var t=e.target;return y(t.value)},required:!0})})]}),Object(r.jsx)("div",{className:"info__user-description",children:Object(r.jsx)("textarea",{className:"info__user-text",type:"textarea",name:"info",value:w,onChange:function(e){var t=e.target;return N(t.value)},required:!0})})]}),Object(r.jsxs)("div",{className:"info__user-buttons",children:[Object(r.jsx)("div",{children:Object(r.jsx)("button",{className:"info__user-delete",onClick:function(e){return function(e){return S.apply(this,arguments)}(e)},children:"Delete user"})}),Object(r.jsxs)("div",{children:[Object(r.jsx)("button",{className:"info__user-cancel",onClick:function(e){return function(e){e.preventDefault(),N(o),b(u),y(i),t(!1)}(e)},children:"Cancel"}),Object(r.jsx)("button",{className:"info__user-save",onClick:function(e){return function(e){return k.apply(this,arguments)}(e)},children:"Save"})]})]})]})}n(57);function T(e){var t=e.active,n=e.setActive,a=e.children;return Object(r.jsx)("div",{className:t?"modal active":"modal",onClick:function(){return n(!1)},children:Object(r.jsx)("div",{className:t?"modal__content active":"modal",onClick:function(e){return e.stopPropagation()},children:a})})}n(58);function L(e){var t=e.upDateUsers,n=Object(a.useState)(""),c=Object(v.a)(n,2),s=c[0],u=c[1],i=Object(a.useState)(""),o=Object(v.a)(i,2),l=o[0],f=o[1],p=Object(a.useState)(""),j=Object(v.a)(p,2),b=j[0],O=j[1];function x(){return(x=Object(h.a)(d.a.mark((function e(n){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),r={name:s,surname:l,desc:b,avatar:null},!(s&&l&&b)){e.next=6;break}return e.next=5,E(r);case 5:t();case 6:u(""),f(""),O("");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.jsxs)("div",{className:"newUsers",children:[Object(r.jsx)("h5",{children:"Create a new user: "}),Object(r.jsxs)("form",{onSubmit:function(e){return function(e){return x.apply(this,arguments)}(e)},children:[Object(r.jsx)("input",{type:"text",name:"name",value:s,onChange:function(e){var t=e.target;return u(t.value)},placeholder:"New Name",required:!0}),Object(r.jsx)("input",{type:"text",name:"surname",value:l,onChange:function(e){var t=e.target;return f(t.value)},placeholder:"New Surname",required:!0}),Object(r.jsx)("textarea",{className:"info__user-text newUser__about",type:"textarea",name:"info",value:b,onChange:function(e){var t=e.target;return O(t.value)},placeholder:"About You",required:!0}),Object(r.jsx)("button",{className:"waves-effect waves-light btn newUser__button",type:"submit",children:"Add"})]})]})}n(59);var M=function(){var e=Object(a.useState)(1),t=Object(v.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(!1),u=Object(v.a)(s,2),o=u[0],p=u[1],j=Object(i.b)(),b=Object(i.c)((function(e){return e.users})),m=Object(i.c)((function(e){return e.currentUser}));function y(){return g.apply(this,arguments)}function g(){return(g=Object(h.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:t=e.sent,j(O(t));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){k().then((function(e){j(function(e){return{type:l,payload:e}}(e))}))}),[]);var w=Math.ceil(b.length/5),N=5*n,S=N-5,U=b.slice(S,N);return Object(r.jsxs)("div",{className:"container",children:[Object(r.jsx)(x,{users:U,handleSelectedUser:function(e){j({type:f,payload:e}),p(!0)}}),Object(r.jsx)(T,{active:o,setActive:p,currentUser:m,children:Object(r.jsx)(P,{setModalActive:p,currentUser:m,upDateUsers:y,checkLastUser:function(){1===U.length&&c((function(e){return e-1}))}})}),Object(r.jsx)(L,{upDateUsers:y}),Object(r.jsx)(_,{countPages:w,paginate:function(e){c(e)},currentPage:n})]})},R=Object(u.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(o.a)(Object(o.a)({},e),{},{users:t.payload});case f:return Object(o.a)(Object(o.a)({},e),{},{currentUser:t.payload});case p:return Object(o.a)(Object(o.a)({},e),{},{users:t.payload});default:return e}}));s.a.render(Object(r.jsx)(i.a,{store:R,children:Object(r.jsx)(M,{})}),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.b7ad1671.chunk.js.map